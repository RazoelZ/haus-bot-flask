<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <title>Haus Bot Development</title>
  </head>
  <body>
    <head>
      <nav>
        <img src="/logotulisan.png" alt="logo haus" />
        <ul>
          <li><a>Home</a></li>
          <li><a>About</a></li>
          <li><a>Contact</a></li>
        </ul>
      </nav>
    </head>
    <!-- body section -->
    <section>
      <div class="container-body">
        <div class="content-body">
          <div class="welcome">
            <h1>WELCOME TO HAUS BOT DEVELOPMENT</h1>
            <div class="button-chat">
              <button>To user</button>
              <button id="chat-group-btn">To Chat Group</button>
            </div>
          </div>
          <p>
            We are a team of developers who are passionate about creating
            innovative solutions for your business. Our goal is to help you
            succeed by providing you with the tools you need to grow and thrive
            in today's competitive market. Whether you need a custom website, a
            mobile app, or a chatbot, we have the skills and expertise to bring
            your vision to life. Contact us today to learn more about how we can
            help you achieve your goals.
          </p>
        </div>
      </div>
    </section>
    <!-- Modal -->
    <div id="modal" class="modal">
      <div class="modal-content">
        <form id="chat-form">
          <span class="close">&times;</span>
          <h2>Chat Group</h2>
          <p>Welcome to the chat group! How can we assist you today?</p>
          <input
            type="text"
            id="message"
            placeholder="Type your message here..."
            required
          />
          <button type="submit">Send</button>
        </form>
      </div>
    </div>
    <!-- footer section -->
    <footer>
      <p>
        &copy; 2021 Haus Bot Development. All rights reserved. | Design by
        <a href="https://www.linkedin.com/in/danydarmawan/">Razoel</a>
      </p>
    </footer>

    <script>
      // Get the modal
      var modal = document.getElementById("modal");

      // Get the button that opens the modal
      var btn = document.getElementById("chat-group-btn");

      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];

      // When the user clicks the button, open the modal
      btn.onclick = function () {
        modal.style.display = "block";
      };

      // When the user clicks on <span> (x), close the modal
      span.onclick = function () {
        modal.style.display = "none";
      };

      // When the user clicks anywhere outside of the modal, close it
      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };

      // Handle form submission
      document.getElementById("chat-form").onsubmit = function (event) {
        event.preventDefault(); // Prevent default form submission

        var message = document.getElementById("message").value;

        fetch("https://b72f-112-78-37-242.ngrok-free.app/sendMessageTolark", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ message: message }),
        })
          .then((response) => response.json())
          .then((data) => {
            console.log("Success:", data);
            modal.style.display = "none"; // Close the modal after sending the message
            alert("Message sent successfully!");
          })
          .catch((error) => {
            console.error("Error:", error);
            alert("Error sending message.");
          });
      };
    </script>
  </body>
</html>
